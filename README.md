# Homework Checker Bot

### Homework Checker Bot - Telegram-бот, который обращается к API сервиса Практикума и узнает статус домашней работы: взята ли работа в ревью, проверена ли она, а если проверена - то принял её ревьюер или вернул на доработку.

## Описание проекта:
Telegram-бот обращается к API сервиса Практикум.Домашка: отслеживает
статус домашней работы отправленной на ревью, раз в 10 минут, опрашивает сервис
с помощью уникального для каждого пользователя API токена, взята ли ваша домашняя
работа: на ревью, проверена ли она, а если проверена — то принял её ревьюер или
вернул на доработку. Если статус работы изменился, бот анализирует ответ API и
отправляет соответствующее уведомление в Telegram.

### Логируются следующие события:

* Отсутствие необходимых переменный окружения
* Сбой при отправке сообщения в Telegram
* Недоступность эндпойнта API
* Отсутствие ожидаемого ответа, недокументированные статусы проекта и прочие сбои в работе API
* Успешная отправка сообщения в Telegram
* Отсутствие в ответе API новых статусов

## Стек технологий:

* [Python 3.7+](https://www.python.org/downloads/)
* [python-dotenv 0.19.0](https://pypi.org/project/python-dotenv/)
* [python-telegram-bot 13.7](https://pypi.org/project/python-telegram-bot/)
* [requests 2.26.0](https://pypi.org/project/requests/)


### Как запустить проект

У API Практикум.Домашка есть эндпоинт, доступ к которому возможен только по токену: 
https://practicum.yandex.ru/api/user_api/homework_statuses/


Получить токен можно по [адресу](https://oauth.yandex.ru/authorize?response_type=token&client_id=1d0b9dd4d652455a9eb710d450ff456a).

Клонируем проект:

```bash
git clone https://github.com/Hottys/Homework_Checker_Bot.git
```

Переходим в папку с ботом.

```bash
cd Homework_Checker_Bot
```

Устанавливаем виртуальное окружение

```bash
python -m venv venv
```

Активируем виртуальное окружение

```bash
source venv/Scripts/activate
```

> Для деактивации виртуального окружения выполянем (после работы)
> ```bash
> deactivate
> ```
Устанавливаем зависимости
```bash
pip install -r requirements.txt
```

* Создать аккаунт бота в Telegram:
  - *Найти в Telegram бота @BotFather.* В окно поиска над списком контактов
  введите его имя. Обратите внимание на иконку возле имени бота: белая галочка
  на голубом фоне. Эту иконку устанавливают администраторы Telegram, она означает,
  что бот настоящий.
  - *Зарегистрировать бота.*
  Начните диалог с ботом @BotFather: нажмите кнопку "Start".
  Затем отправьте  команду /newbot и укажите параметры нового бота:
  *имя, под которым ваш бот будет отображаться в списке контактов;
  *техническое имя вашего бота, по которому его можно будет найти в Telegram.
  Имя должно быть уникальным и оканчиваться на слово bot в любом регистре.
  Если аккаунт создан, @BotFather поздравит вас и отправит в чат токен для работы
  с Bot API.
  - *Настроить аккаунт бота через @BotFather.*
  Отправьте команду /mybots и вы получите список ботов, которыми вы управляете.
  Укажите бота, которого нужно отредактировать, и нажмите кнопку Edit Bot.
  Можно изменить:
  Имя бота (Edit Name);
  Описание (Edit Description) — текст, который пользователи увидят в самом начале
  диалога с ботом под заголовком «Что может делать этот бот?»;
  Общую информацию (Edit About) — текст, который будет виден в профиле бота;
  Картинку-аватар (Edit Botpic);
  Команды (Edit Commands) — подсказки для ввода команд.

В консоле импортируем токены для Яндекс.Практикума и для Телеграмм:

```bash
export PRACTICUM_TOKEN=<PRACTICUM_TOKEN>
export TELEGRAM_TOKEN=<TELEGRAM_TOKEN>
export CHAT_ID=<CHAT_ID>
```

Запускаем бота

```bash
python homework.py
```

После этого бот будет каждые 10 минут проверять статус домашней работы и присылать уведомление при изменении ее статуса.

Автор: [Михаил Картавцев](https://github.com/Hottys)
